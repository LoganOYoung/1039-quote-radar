export type ViewLang = "en" | "fr" | "ar" | "de" | "ja";

const translations: Record<ViewLang, Record<string, string>> = {
  en: {
    docTitle: "Commercial Quotation",
    ref: "Ref.",
    dateOfIssue: "Date of issue",
    validUntil: "Valid until",
    exchangeRateLocked: "Exchange rate (locked): 1 USD =",
    asOf: "as of",
    goodsDescription: "Goods description",
    unitPriceFob: "Unit price — FOB (Incoterms® 2020), USD",
    allAmountsUsd: "All amounts in United States dollars (USD).",
    billTo: "Bill to",
    quantity: "Quantity",
    totalAmount: "Total amount",
    portOfLoading: "Port of loading",
    paymentTerms: "Payment terms",
    remarks: "Remarks",
    terms1: "Prices subject to confirmation. This quotation is valid for 7 days from the date of issue.",
    terms2: "Unless otherwise agreed in writing, this quotation is not binding until an order is confirmed by the seller.",
    viewingRecorded: "Viewing of this page may be recorded for security.",
    poweredBy: "Powered by 1039 Quote Radar",
    quotation: "Quotation",
    priceQuotation: "Price Quotation",
    saveAsPdf: "Save as PDF",
    saveAsImage: "Save as image",
    saving: "Saving…",
    contactSeller: "Contact seller",
    email: "Email",
    call: "Call",
    requestToViewPrice: "Request to View Price",
    submitting: "Submitting…",
    requestSent: "Request sent. Price will show once the supplier approves. You may refresh this page.",
    unitPriceFobLabel: "Unit price — FOB (Incoterms® 2020), USD",
    quoteExpired: "This quotation has expired.",
    quoteExpiredHint: "Please contact the seller for a new quote.",
  },
  fr: {
    docTitle: "Devis commercial",
    ref: "Réf.",
    dateOfIssue: "Date d'émission",
    validUntil: "Valable jusqu'au",
    exchangeRateLocked: "Taux de change (figé) : 1 USD =",
    asOf: "au",
    goodsDescription: "Description des marchandises",
    unitPriceFob: "Prix unitaire — FOB (Incoterms® 2020), USD",
    allAmountsUsd: "Tous les montants sont en dollars des États-Unis (USD).",
    billTo: "Facturer à",
    quantity: "Quantité",
    totalAmount: "Montant total",
    portOfLoading: "Port de chargement",
    paymentTerms: "Conditions de paiement",
    remarks: "Remarques",
    terms1: "Les prix sont soumis à confirmation. Ce devis est valable 7 jours à compter de la date d'émission.",
    terms2: "Sauf accord écrit contraire, ce devis n'est pas contractuel tant que le vendeur n'a pas confirmé la commande.",
    viewingRecorded: "La consultation de cette page peut être enregistrée à des fins de sécurité.",
    poweredBy: "Propulsé par 1039 Quote Radar",
    quotation: "Devis",
    priceQuotation: "Devis de prix",
    saveAsPdf: "Enregistrer en PDF",
    saveAsImage: "Enregistrer en image",
    saving: "Enregistrement…",
    contactSeller: "Contacter le vendeur",
    email: "E-mail",
    call: "Téléphoner",
    requestToViewPrice: "Demander à voir le prix",
    submitting: "Envoi…",
    requestSent: "Demande envoyée. Le prix s'affichera une fois le fournisseur aura approuvé. Vous pouvez actualiser la page.",
    unitPriceFobLabel: "Prix unitaire — FOB (Incoterms® 2020), USD",
    quoteExpired: "Ce devis a expiré.",
    quoteExpiredHint: "Veuillez contacter le vendeur pour un nouveau devis.",
  },
  ar: {
    docTitle: "عرض سعر تجاري",
    ref: "المرجع",
    dateOfIssue: "تاريخ الإصدار",
    validUntil: "صالح حتى",
    exchangeRateLocked: "سعر الصرف (مقفل): 1 USD =",
    asOf: "اعتباراً من",
    goodsDescription: "وصف البضاعة",
    unitPriceFob: "السعر الوحدوي — FOB (Incoterms® 2020)، USD",
    allAmountsUsd: "جميع المبالغ بالدولار الأمريكي (USD).",
    billTo: "الفاتورة إلى",
    quantity: "الكمية",
    totalAmount: "المبلغ الإجمالي",
    portOfLoading: "ميناء التحميل",
    paymentTerms: "شروط الدفع",
    remarks: "ملاحظات",
    terms1: "الأسعار قابلة للتأكيد. هذا العرض ساري 7 أيام من تاريخ الإصدار.",
    terms2: "ما لم يتفق كتابياً على خلاف ذلك، لا يكون هذا العرض ملزماً حتى يؤكد البائع الطلب.",
    viewingRecorded: "قد يتم تسجيل عرض هذه الصفحة لأسباب أمنية.",
    poweredBy: "مدعوم من 1039 Quote Radar",
    quotation: "عرض السعر",
    priceQuotation: "عرض السعر",
    saveAsPdf: "حفظ كـ PDF",
    saveAsImage: "حفظ كصورة",
    saving: "جاري الحفظ…",
    contactSeller: "الاتصال بالبائع",
    email: "البريد الإلكتروني",
    call: "اتصال",
    requestToViewPrice: "طلب عرض السعر",
    submitting: "جاري الإرسال…",
    requestSent: "تم إرسال الطلب. سيظهر السعر بعد موافقة المورد. يمكنك تحديث الصفحة.",
    unitPriceFobLabel: "السعر الوحدوي — FOB (Incoterms® 2020)، USD",
    quoteExpired: "انتهت صلاحية هذا العرض.",
    quoteExpiredHint: "يرجى الاتصال بالبائع للحصول على عرض جديد.",
  },
  de: {
    docTitle: "Kommerzielles Angebot",
    ref: "Ref.",
    dateOfIssue: "Ausstellungsdatum",
    validUntil: "Gültig bis",
    exchangeRateLocked: "Wechselkurs (fest): 1 USD =",
    asOf: "Stand",
    goodsDescription: "Warenbeschreibung",
    unitPriceFob: "Stückpreis — FOB (Incoterms® 2020), USD",
    allAmountsUsd: "Alle Beträge in US-Dollar (USD).",
    billTo: "Rechnung an",
    quantity: "Menge",
    totalAmount: "Gesamtbetrag",
    portOfLoading: "Verladehafen",
    paymentTerms: "Zahlungsbedingungen",
    remarks: "Anmerkungen",
    terms1: "Preise unter Vorbehalt. Dieses Angebot ist 7 Tage ab Ausstellungsdatum gültig.",
    terms2: "Sofern nicht schriftlich anders vereinbart, wird dieses Angebot erst mit Bestätigung der Bestellung durch den Verkäufer verbindlich.",
    viewingRecorded: "Der Aufruf dieser Seite kann aus Sicherheitsgründen protokolliert werden.",
    poweredBy: "Unterstützt von 1039 Quote Radar",
    quotation: "Angebot",
    priceQuotation: "Preisangebot",
    saveAsPdf: "Als PDF speichern",
    saveAsImage: "Als Bild speichern",
    saving: "Wird gespeichert…",
    contactSeller: "Verkäufer kontaktieren",
    email: "E-Mail",
    call: "Anrufen",
    requestToViewPrice: "Preisanzeige anfordern",
    submitting: "Wird gesendet…",
    requestSent: "Anfrage gesendet. Der Preis wird angezeigt, sobald der Lieferant zugestimmt hat. Sie können die Seite aktualisieren.",
    unitPriceFobLabel: "Stückpreis — FOB (Incoterms® 2020), USD",
    quoteExpired: "Dieses Angebot ist abgelaufen.",
    quoteExpiredHint: "Bitte kontaktieren Sie den Verkäufer für ein neues Angebot.",
  },
  ja: {
    docTitle: "商業見積書",
    ref: "参照番号",
    dateOfIssue: "発行日",
    validUntil: "有効期限",
    exchangeRateLocked: "為替レート（確定）：1 USD =",
    asOf: "基準日",
    goodsDescription: "商品説明",
    unitPriceFob: "単価 — FOB（Incoterms® 2020）、USD",
    allAmountsUsd: "金額はすべて米ドル（USD）表示です。",
    billTo: "請求先",
    quantity: "数量",
    totalAmount: "合計金額",
    portOfLoading: "積出港",
    paymentTerms: "支払条件",
    remarks: "備考",
    terms1: "価格は確認を要します。本見積は発行日から7日間有効です。",
    terms2: "書面による別途合意がない限り、売主が注文を確認するまで本見積は拘束力を持ちません。",
    viewingRecorded: "セキュリティのため、本ページの閲覧が記録される場合があります。",
    poweredBy: "Powered by 1039 Quote Radar",
    quotation: "見積書",
    priceQuotation: "価格見積",
    saveAsPdf: "PDFで保存",
    saveAsImage: "画像で保存",
    saving: "保存中…",
    contactSeller: "売主に連絡",
    email: "メール",
    call: "電話",
    requestToViewPrice: "価格表示をリクエスト",
    submitting: "送信中…",
    requestSent: "リクエストを送信しました。供給者が承認すると価格が表示されます。ページを更新してください。",
    unitPriceFobLabel: "単価 — FOB（Incoterms® 2020）、USD",
    quoteExpired: "この見積は期限切れです。",
    quoteExpiredHint: "新しい見積については売主までご連絡ください。",
  },
};

export function t(key: keyof typeof translations.en, lang: ViewLang): string {
  return translations[lang]?.[key] ?? translations.en[key] ?? key;
}

export function getViewLang(
  searchParamLang?: string | string[] | null,
  _acceptLanguage?: string | null
): ViewLang {
  const param = Array.isArray(searchParamLang) ? searchParamLang[0] : searchParamLang;
  if (param === "fr") return "fr";
  if (param === "ar") return "ar";
  if (param === "de") return "de";
  if (param === "ja") return "ja";
  return "en";
}

export const viewLangLabels: Record<ViewLang, string> = {
  en: "EN",
  fr: "FR",
  ar: "AR",
  de: "DE",
  ja: "JA",
};
